#!/usr/bin/env bash
# shellcheck disable=SC2034
set -eou pipefail

# Build and runtime app vars
export APP_NAME='ccc'
export APP_DOMAIN='poppet.io'
export APP_FRONTEND_FQDN="${APP_NAME}.${APP_DOMAIN}"
export APP_BACKEND_FQDN="api.${APP_DOMAIN}"
export APP_BACKEND_PORT="8000"

# Passthrough caches
REGISTRY_BASE="registry.${APP_DOMAIN}"
export REGISTRY_DOCKER="${REGISTRY_BASE}/dockerhub"
export REGISTRY_GHCR="${REGISTRY_BASE}/ghcr"

COMMON_RUN_ARGS=(
  --rm
  --interactive
)

# Helper arrays
COMMON_BUILD_ARGS=(
  --build-arg "REGISTRY_DOCKER=${REGISTRY_DOCKER}"
  --build-arg "REGISTRY_GHCR=${REGISTRY_GHCR}"
  .
)
